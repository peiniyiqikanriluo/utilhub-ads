<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Base64在线转换工具 - 文本与Base64编码解码 | 极简工具箱</title>
    <meta name="description" content="免费在线Base64编码解码工具，支持文本和图片与Base64互相转换。快速、安全、无需下载，保留隐私的本地计算方式。">
    <meta name="keywords" content="Base64, Base64编码, Base64解码, 在线工具, 文本转换, 编码工具, 解码工具">
    <meta name="author" content="极简工具箱">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.loli.net/css?family=Noto+Sans+SC:400,500,700&display=swap" rel="stylesheet">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6400988749068679"
     crossorigin="anonymous"></script>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --dark-bg: #1f2937;
            --dark-card: #374151;
            --light-bg: #f9fafb;
            --text-primary: #333;
            --text-secondary: #6b7280;
            --text-muted: #9ca3af;
            --border-color: #d1d5db;
            --button-bg-color: #e5e7eb;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: var(--light-bg);
            color: var(--text-primary);
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark {
            background-color: var(--dark-bg);
            color: #e5e7eb;
            --text-primary: #e5e7eb;
            --text-secondary: #d1d5db;
            --text-muted: #9ca3af;
            --border-color: #4b5563;
            --button-bg-color: #000;
        }

        .dark .card {
            background-color: var(--dark-card);
            color: #e5e7eb;
        }

        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .gradient-text {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .tab-button {
            background-color: var(--button-bg-color);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-primary);
        }

        .tab-button.active {
            background-color: var(--primary);
            color: white;
        }

        .code-area {
            font-family: monospace;
            width: 100%;
            background-color: #f3f4f6;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 0.75rem;
            min-height: 10rem;
            resize: vertical;
            color: var(--text-primary);
        }

        .dark .code-area {
            background-color: #4b5563;
            border-color: #6b7280;
            color: #e5e7eb;
        }

        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .toast.show {
            opacity: 1;
        }

        .image-preview {
            max-width: 100%;
            max-height: 300px;
            border: 1px dashed var(--border-color);
            border-radius: 0.5rem;
            padding: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
        }

        .dark .image-preview {
            background-color: #374151;
            border-color: #6b7280;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 280px;
        }

        .file-upload {
            border: 2px dashed var(--border-color);
            border-radius: 0.5rem;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .file-upload:hover {
            border-color: var(--primary);
        }

        .file-upload.dragover {
            border-color: var(--primary);
            background-color: rgba(79, 70, 229, 0.05);
        }

        .copy-btn {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            background-color: #e5e7eb;
            border-radius: 0.375rem;
            transition: all 0.2s;
            color: var(--text-primary);
        }

        .dark .copy-btn {
            background-color: #4b5563;
            color: #e5e7eb;
        }

        .copy-btn:hover {
            background-color: #d1d5db;
        }

        .dark .copy-btn:hover {
            background-color: #6b7280;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background-color: #e5e7eb;
            border-radius: 2px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .progress {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
            transition: width 0.3s;
        }

        /* 修复文本颜色问题 */
        .text-color-primary {
            color: var(--text-primary);
        }

        .text-color-secondary {
            color: var(--text-secondary);
        }

        .text-color-muted {
            color: var(--text-muted);
        }

        .border-color-custom {
            border-color: var(--border-color);
        }

        /* 确保所有文本元素都使用CSS变量 */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        span,
        div,
        label,
        li {
            color: var(--text-primary);
        }

        /* 返回首页按钮样式 */
        .home-btn {
            background-color: #10b981;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: background-color 0.2s;
            margin-right: 0.5rem;
        }

        .home-btn:hover {
            background-color: #059669;
        }

        .dark .home-btn {
            background-color: #047857;
        }

        .dark .home-btn:hover {
            background-color: #065f46;
        }
    </style>
</head>

<body class="min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <header class="mb-8">
            
            <div class="flex justify-between items-center flex-wrap gap-4">
                <div>
                    <h1 class="text-3xl font-bold gradient-text">Base64编码解码工具</h1>
                    <p class="text-color-secondary mt-2">免费在线Base64转换工具 - 支持文本和图片与Base64编码互转</p>
                </div>

                <div class="flex items-center">
                    <a href="./index.html" class="home-btn flex items-center">
                        <span class="text-xl mr-2">🏠</span>
                        返回首页
                    </a>
                    <button id="theme-toggle"
                        class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition">
                        切换主题
                    </button>
                </div>
            </div>
        </header>

        <div class="card">
            <div class="grid">
                <div>
                    <h3>颜色选择</h3>
                    <input type="color" id="color-picker" value="#3b82f6" class="color-input">
                    
                    <div class="sliders">
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>红色 (R)</span>
                                <span id="red-value">59</span>
                            </div>
                            <input type="range" id="red-slider" min="0" max="255" value="59" class="slider">
                        </div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>绿色 (G)</span>
                                <span id="green-value">130</span>
                            </div>
                            <input type="range" id="green-slider" min="0" max="255" value="130" class="slider">
                        </div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>蓝色 (B)</span>
                                <span id="blue-value">246</span>
                            </div>
                            <input type="range" id="blue-slider" min="0" max="255" value="246" class="slider">
                        </div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>透明度 (A)</span>
                                <span id="alpha-value">100%</span>
                            </div>
                            <input type="range" id="alpha-slider" min="0" max="100" value="100" class="slider">
                        </div>
                    </div>
                    
                    <h3>颜色格式</h3>
                    <div class="tabs">
                        <button class="tab active" data-format="hex">HEX</button>
                        <button class="tab" data-format="rgb">RGB</button>
                        <button class="tab" data-format="hsl">HSL</button>
                        <button class="tab" data-format="cmyk">CMYK</button>
                    </div>
                    <div id="hex-code" class="code-block">#3b82f6</div>
                    <div id="rgb-code" class="code-block hidden">rgb(59, 130, 246)</div>
                    <div id="hsl-code" class="code-block hidden">hsl(217, 91%, 60%)</div>
                    <div id="cmyk-code" class="code-block hidden">cmyk(76%, 47%, 0%, 4%)</div>
                </div>
                
                <div>
                    <h3>颜色预览</h3>
                    <div class="preview" id="color-preview">
                        <span class="preview-text">示例文本</span>
                    </div>
                    
                    <h3>对比度测试</h3>
                    <div class="contrast-test">
                        <div class="contrast-item">
                            <div>白色背景</div>
                            <div class="contrast-box white-bg" id="white-contrast">
                                <span style="color: #3b82f6">示例文本</span>
                                <div class="contrast-info">AA: 通过</div>
                            </div>
                        </div>
                        <div class="contrast-item">
                            <div>黑色背景</div>
                            <div class="contrast-box black-bg" id="black-contrast">
                                <span style="color: #3b82f6">示例文本</span>
                                <div class="contrast-info" style="color: white">AA: 通过</div>
                            </div>
                        </div>
                    </div>
                    
                    <button id="copy-btn" class="copy-btn">
                        📋 复制颜色代码
                    </button>
                </div>
            </div>
        </div>

        <div class="card">
            <h3>颜色格式说明</h3>
            <table>
                <thead>
                    <tr>
                        <th>格式</th>
                        <th>描述</th>
                        <th>示例</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>HEX</td>
                        <td>十六进制颜色代码</td>
                        <td>#3b82f6</td>
                    </tr>
                    <tr>
                        <td>RGB</td>
                        <td>红绿蓝三原色</td>
                        <td>rgb(59, 130, 246)</td>
                    </tr>
                    <tr>
                        <td>HSL</td>
                        <td>色相、饱和度、亮度</td>
                        <td>hsl(217, 91%, 60%)</td>
                    </tr>
                    <tr>
                        <td>CMYK</td>
                        <td>青、品红、黄、黑</td>
                        <td>cmyk(76%, 47%, 0%, 4%)</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <footer class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 mt-12">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
                <!-- 网站介绍 -->
                <div>
                    <h3 class="text-lg font-semibold mb-4 gradient-text">极简工具箱</h3>
                    <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
                        提供简单高效的在线工具集合，满足您的日常需求。
                    </p>
                </div>

                <!-- 工具导航 -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">工具导航</h3>
                    <ul class="space-y-2">
                        <li><a href="file_converter.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">文件转换器</a></li>
                        <li><a href="password_generator.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">密码生成器</a></li>
                        <li><a href="qr_generator.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">二维码生成器</a></li>
                        <li><a href="json_formatter.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">JSON格式化</a></li>
                        <li><a href="index.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">查看全部工具</a></li>
                    </ul>
                </div>

                <!-- 支持与帮助 -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">支持与帮助</h3>
                    <ul class="space-y-2">
                        <li><a href="help_document.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">帮助文档</a></li>
                        <li><a href="faq.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">常见问题</a></li>
                        <li><a href="feedback.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">意见反馈</a></li>
                    </ul>
                </div>

                <!-- 关于我们 -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">关于我们</h3>
                    <ul class="space-y-2">
                        <li><a href="about.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">关于极简工具箱</a></li>
                    </ul>
                </div>
            </div>

            <!-- 底部版权和备案信息 -->
            <div class="pt-8 border-t border-gray-200 dark:border-gray-700">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="mb-4 md:mb-0 text-center md:text-left">
                        <p class="text-gray-500 dark:text-gray-400 text-sm">© 2025 极简工具箱. 保留所有权利.</p>
                    </div>
                    <div class="flex flex-wrap justify-center gap-6 mb-4 md:mb-0">
                        <a href="privacy_policy.html" class="text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary text-sm transition-colors">隐私政策</a>
                        <a href="terms_of_service.html" class="text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary text-sm transition-colors">服务条款</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // 暗黑模式切换功能
        const themeToggle = document.getElementById('theme-toggle');
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
        
        // 检查本地存储或系统偏好
        const currentTheme = localStorage.getItem('theme');
        if (currentTheme === 'dark' || (!currentTheme && prefersDarkScheme.matches)) {
            document.body.classList.add('dark-mode');
            themeToggle.textContent = '☀️ 明亮模式';
        } else {
            themeToggle.textContent = '🌙 暗黑模式';
        }
        
        // 切换主题
        themeToggle.addEventListener('click', () => {
            const isDark = document.body.classList.toggle('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            themeToggle.textContent = isDark ? '☀️ 明亮模式' : '🌙 暗黑模式';
        });
        
        // 颜色选择器功能
        const colorPicker = document.getElementById('color-picker');
        const redSlider = document.getElementById('red-slider');
        const greenSlider = document.getElementById('green-slider');
        const blueSlider = document.getElementById('blue-slider');
        const alphaSlider = document.getElementById('alpha-slider');
        const redValue = document.getElementById('red-value');
        const greenValue = document.getElementById('green-value');
        const blueValue = document.getElementById('blue-value');
        const alphaValue = document.getElementById('alpha-value');
        const colorPreview = document.getElementById('color-preview');
        const tabs = document.querySelectorAll('.tab');
        const hexCode = document.getElementById('hex-code');
        const rgbCode = document.getElementById('rgb-code');
        const hslCode = document.getElementById('hsl-code');
        const cmykCode = document.getElementById('cmyk-code');
        const copyBtn = document.getElementById('copy-btn');
        const whiteContrast = document.getElementById('white-contrast');
        const blackContrast = document.getElementById('black-contrast');

        let currentColor = '#3b82f6';
        let currentFormat = 'hex';

        // 初始化颜色
        updateColor(currentColor);

        // 事件监听
        colorPicker.addEventListener('input', (e) => {
            currentColor = e.target.value;
            updateSlidersFromHex(currentColor);
            updateColor(currentColor);
        });

        [redSlider, greenSlider, blueSlider, alphaSlider].forEach(slider => {
            slider.addEventListener('input', updateColorFromSliders);
        });

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                currentFormat = tab.getAttribute('data-format');
                updateCodeDisplay();
            });
        });

        copyBtn.addEventListener('click', copyColorCode);

        // 更新颜色显示
        function updateColor(color) {
            colorPreview.style.backgroundColor = color;
            colorPicker.value = color;
            updateCodeValues();
            updateContrastTest();
        }

        // 从滑块更新颜色
        function updateColorFromSliders() {
            const r = redSlider.value;
            const g = greenSlider.value;
            const b = blueSlider.value;
            const a = alphaSlider.value / 100;
            
            // 更新显示值
            redValue.textContent = r;
            greenValue.textContent = g;
            blueValue.textContent = b;
            alphaValue.textContent = `${a * 100}%`;
            
            currentColor = a < 1 ? `rgba(${r}, ${g}, ${b}, ${a})` : `rgb(${r}, ${g}, ${b})`;
            colorPicker.value = rgbToHex(r, g, b);
            updateColor(currentColor);
        }

        // 从HEX更新滑块
        function updateSlidersFromHex(hex) {
            const rgb = hexToRgb(hex);
            if (rgb) {
                redSlider.value = rgb.r;
                greenSlider.value = rgb.g;
                blueSlider.value = rgb.b;
                
                // 更新显示值
                redValue.textContent = rgb.r;
                greenValue.textContent = rgb.g;
                blueValue.textContent = rgb.b;
            }
        }

        // 更新代码值
        function updateCodeValues() {
            const rgb = hexToRgb(currentColor);
            if (!rgb) return;

            // HEX
            hexCode.textContent = currentColor;

            // RGB
            const alpha = alphaSlider.value / 100;
            if (alpha < 1) {
                rgbCode.textContent = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${alpha.toFixed(2)})`;
            } else {
                rgbCode.textContent = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
            }

            // HSL
            const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);
            hslCode.textContent = `hsl(${Math.round(hsl.h)}, ${Math.round(hsl.s)}%, ${Math.round(hsl.l)}%)`;

            // CMYK
            const cmyk = rgbToCmyk(rgb.r, rgb.g, rgb.b);
            cmykCode.textContent = `cmyk(${Math.round(cmyk.c)}%, ${Math.round(cmyk.m)}%, ${Math.round(cmyk.y)}%, ${Math.round(cmyk.k)}%)`;
        }

        // 更新代码显示
        function updateCodeDisplay() {
            [hexCode, rgbCode, hslCode, cmykCode].forEach(el => el.classList.add('hidden'));
            document.getElementById(`${currentFormat}-code`).classList.remove('hidden');
        }

        // 更新对比度测试
        function updateContrastTest() {
            const rgb = hexToRgb(currentColor);
            if (!rgb) return;

            // 计算对比度
            const contrastWhite = getContrastRatio(rgb, {r: 255, g: 255, b: 255});
            const contrastBlack = getContrastRatio(rgb, {r: 0, g: 0, b: 0});

            // 更新UI
            whiteContrast.innerHTML = `
                <span style="color: ${currentColor}">示例文本</span>
                <div class="contrast-info" style="color: #000">
                    AA: ${contrastWhite >= 4.5 ? '通过' : '不通过'} | ${contrastWhite.toFixed(2)}:1
                    ${contrastWhite >= 7 ? ' AAA: 通过' : ''}
                </div>
            `;

            blackContrast.innerHTML = `
                <span style="color: ${currentColor}">示例文本</span>
                <div class="contrast-info" style="color: #fff">
                    AA: ${contrastBlack >= 4.5 ? '通过' : '不通过'} | ${contrastBlack.toFixed(2)}:1
                    ${contrastBlack >= 7 ? ' AAA: 通过' : ''}
                </div>
            `;
        }

        // 复制颜色代码
        function copyColorCode() {
            const codeToCopy = document.getElementById(`${currentFormat}-code`).textContent;
            navigator.clipboard.writeText(codeToCopy).then(() => {
                const originalText = copyBtn.innerHTML;
                copyBtn.innerHTML = '✅ 已复制';
                setTimeout(() => {
                    copyBtn.innerHTML = originalText;
                }, 2000);
            });
        }

        // 辅助函数
        function hexToRgb(hex) {
            // 处理rgba格式
            if (hex.startsWith('rgba')) {
                const matches = hex.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)/);
                if (matches) {
                    return {
                        r: parseInt(matches[1]),
                        g: parseInt(matches[2]),
                        b: parseInt(matches[3])
                    };
                }
            }
            
            // 处理rgb格式
            if (hex.startsWith('rgb')) {
                const matches = hex.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);
                if (matches) {
                    return {
                        r: parseInt(matches[1]),
                        g: parseInt(matches[2]),
                        b: parseInt(matches[3])
                    };
                }
            }
            
            // 处理hex格式
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        function rgbToHex(r, g, b) {
            return '#' + [r, g, b].map(x => {
                const hex = x.toString(16);
                return hex.length === 1 ? '0' + hex : hex;
            }).join('');
        }

        function rgbToHsl(r, g, b) {
            r /= 255, g /= 255, b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }

            return {
                h: h * 360,
                s: s * 100,
                l: l * 100
            };
        }

        function rgbToCmyk(r, g, b) {
            if (r === 0 && g === 0 && b === 0) {
                return { c: 0, m: 0, y: 0, k: 100 };
            }

            let c = 1 - (r / 255);
            let m = 1 - (g / 255);
            let y = 1 - (b / 255);
            let k = Math.min(c, m, y);

            c = (c - k) / (1 - k) * 100;
            m = (m - k) / (1 - k) * 100;
            y = (y - k) / (1 - k) * 100;
            k = k * 100;

            return { c, m, y, k };
        }

        function getContrastRatio(color1, color2) {
            const luminance1 = getLuminance(color1);
            const luminance2 = getLuminance(color2);
            return (Math.max(luminance1, luminance2) + 0.05) / (Math.min(luminance1, luminance2) + 0.05);
        }

        function getLuminance(color) {
            const r = color.r / 255;
            const g = color.g / 255;
            const b = color.b / 255;
            
            const sr = r <= 0.03928 ? r / 12.92 : Math.pow((r + 0.055) / 1.055, 2.4);
            const sg = g <= 0.03928 ? g / 12.92 : Math.pow((g + 0.055) / 1.055, 2.4);
            const sb = b <= 0.03928 ? b / 12.92 : Math.pow((b + 0.055) / 1.055, 2.4);
            
            return 0.2126 * sr + 0.7152 * sg + 0.0722 * sb;
        }
    </script>
</body>
</html>