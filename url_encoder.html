<!-- minimalist_toolbox/frontend/url_encoder.html -->
<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>URL编码/解码工具 - 在线URL编码转换 - 极简工具箱</title>
    <meta name="description" content="免费的URL编码解码在线工具，快速将URL进行编码或解码，支持中文和特殊字符的URL编码转换。">
    <meta name="keywords" content="URL编码,URL解码,百分比编码,URL转码,在线工具">
    <meta name="author" content="极简工具箱">

    <!-- 结构化数据 -->
    <script type="application/ld+json">
    {
      "@context": "https://utilhub.top",
      "@type": "WebApplication",
      "name": "URL编码/解码工具 - 极简工具箱",
      "description": "免费的URL编码解码在线工具，快速将URL进行编码或解码",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "CNY"
      }
    }
    </script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.loli.net/css?family=Noto+Sans+SC:400,500,700&display=swap" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
    <link href="../css/tools.css" rel="stylesheet">
    <script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
    <script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>
    <style>
        .code-area {
            font-family: monospace;
        }

        .tab-button.active {
            background-color: var(--primary);
            color: white;
        }

        .copy-btn:hover {
            transform: scale(1.1);
        }

        .example-btn {
            margin-top: 10px;
            padding: 6px 12px;
            background-color: #f0f0f0;
            border-radius: 4px;
            font-size: 0.9rem;
            cursor: pointer;
        }

        .dark-mode .example-btn {
            background-color: #4b5563;
            color: #e5e7eb;
        }
    </style>
</head>

<body class="min-h-screen bg-gray-50 dark:bg-gray-900">
    <div id="particles-js" class="particles"></div>

    <div class="container mx-auto px-4 py-8">
        <header class="mb-8">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-3xl font-bold gradient-text">URL编码/解码工具</h1>
                    <p class="text-gray-600 dark:text-gray-300 mt-2">在线URL编码转换工具，支持UTF-8编码格式</p>
                </div>
                <a href="../index.html"
                    class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition">返回首页</a>
            </div>
        </header>

        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8">
            <div class="flex space-x-2 mb-6">
                <button class="tab-button px-4 py-2 rounded-lg active" data-tab="encode">URL编码</button>
                <button class="tab-button px-4 py-2 rounded-lg" data-tab="decode">URL解码</button>
            </div>

            <div id="encode" class="tab-content">
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2">输入文本</label>
                    <textarea id="encode-input"
                        class="w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 h-40"
                        placeholder="输入要编码的URL或文本"></textarea>
                    <button class="example-btn" data-example="encode">填充示例</button>
                </div>
                <div class="mb-6">
                    <button id="encode-btn"
                        class="w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center justify-center">
                        <span class="text-xl mr-2">🔗</span>
                        编码URL
                    </button>
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2">编码结果</label>
                    <textarea id="encode-output"
                        class="w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 h-40 code-area"
                        placeholder="编码结果" readonly></textarea>
                </div>
                <div>
                    <button id="copy-encode-btn"
                        class="px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition flex items-center">
                        <span class="text-xl mr-2">📋</span>
                        复制结果
                    </button>
                </div>
            </div>

            <div id="decode" class="tab-content hidden">
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2">输入编码URL</label>
                    <textarea id="decode-input"
                        class="w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 h-40 code-area"
                        placeholder="输入要解码的URL编码"></textarea>
                    <button class="example-btn" data-example="decode">填充示例</button>
                </div>
                <div class="mb-6">
                    <button id="decode-btn"
                        class="w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center justify-center">
                        <span class="text-xl mr-2">🔤</span>
                        解码URL
                    </button>
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2">解码结果</label>
                    <textarea id="decode-output"
                        class="w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 h-40"
                        placeholder="解码结果" readonly></textarea>
                </div>
                <div>
                    <button id="copy-decode-btn"
                        class="px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition flex items-center">
                        <span class="text-xl mr-2">📋</span>
                        复制结果
                    </button>
                </div>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6">
            <h3 class="text-lg font-semibold mb-4">关于URL编码</h3>
            <div class="text-sm text-gray-700 dark:text-gray-300 space-y-4">
                <p>URL编码(Percent-encoding)是一种编码机制，用于将URL中的特殊字符转换为安全字符。</p>
                <p>URL中只允许使用ASCII字符集中的可打印字符，其他字符必须经过编码。</p>
                <p>编码格式为：%加上两位十六进制数，例如空格编码为%20。</p>
                <h4 class="font-medium mt-4">常见字符编码示例：</h4>
                <ul class="list-disc pl-5">
                    <li>空格 → %20</li>
                    <li>! → %21</li>
                    <li># → %23</li>
                    <li>$ → %24</li>
                    <li>% → %25</li>
                    <li>& → %26</li>
                    <li>中 → %E4%B8%AD</li>
                    <li>文 → %E6%96%87</li>
                </ul>
            </div>
        </div>
    </div>
    <footer class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 mt-12">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
            <!-- 网站介绍 -->
            <div>
                <h3 class="text-lg font-semibold mb-4 gradient-text">极简工具箱</h3>
                <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
                    提供简单高效的在线工具集合，满足您的日常需求。
                </p>
            </div>

            <!-- 工具导航 -->
            <div>
                <h3 class="text-lg font-semibold mb-4">工具导航</h3>
                <ul class="space-y-2">
                    <li><a href="file_converter.html"
                            class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">文件转换器</a>
                    </li>
                    <li><a href="password_generator.html"
                            class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">密码生成器</a>
                    </li>
                    <li><a href="qr_generator.html"
                            class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">二维码生成器</a>
                    </li>
                    <li><a href="json_formatter.html"
                            class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">JSON格式化</a>
                    </li>
                    <li><a href="index.html"
                            class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">查看全部工具</a>
                    </li>
                </ul>
            </div>

            <!-- 支持与帮助 -->
            <div>
                <h3 class="text-lg font-semibold mb-4">支持与帮助</h3>
                <ul class="space-y-2">
                    <li><a href="help_document.html"
                            class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">帮助文档</a>
                    </li>
                    <li><a href="faq.html"
                            class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">常见问题</a>
                    </li>
                    <li><a href="feedback.html"
                            class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">意见反馈</a>
                    </li>
                </ul>
            </div>

            <!-- 关于我们 -->
            <div>
                <h3 class="text-lg font-semibold mb-4">关于我们</h3>
                <ul class="space-y-2">
                    <li><a href="about.html"
                            class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">关于极简工具箱</a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- 底部版权和备案信息 -->
        <div class="pt-8 border-t border-gray-200 dark:border-gray-700">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0 text-center md:text-left">
                    <p class="text-gray-500 dark:text-gray-400 text-sm">© 2025 极简工具箱. 保留所有权利.</p>
                </div>
                <div class="flex flex-wrap justify-center gap-6 mb-4 md:mb-0">
                    <a href="privacy_policy.html"
                        class="text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary text-sm transition-colors">隐私政策</a>
                    <a href="terms_of_service.html"
                        class="text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary text-sm transition-colors">服务条款</a>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // 粒子效果
        particlesJS('particles-js', {
            particles: {
                number: { value: 60, density: { enable: true, value_area: 800 } },
                color: { value: "#6366f1" },
                shape: { type: "circle" },
                opacity: { value: 0.5, random: true },
                size: { value: 3, random: true },
                line_linked: { enable: true, distance: 150, color: "#8b5cf6", opacity: 0.4, width: 1 },
                move: { enable: true, speed: 2, direction: "none", random: true, straight: false, out_mode: "out" }
            },
            interactivity: {
                detect_on: "canvas",
                events: {
                    onhover: { enable: true, mode: "grab" },
                    onclick: { enable: true, mode: "push" }
                }
            }
        });

        // 暗黑模式切换
        if (localStorage.getItem('theme') === 'dark' ||
            (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        }

        // 标签切换
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');

                const tabId = button.getAttribute('data-tab');
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                });
                document.getElementById(tabId).classList.remove('hidden');
            });
        });

        // URL编码
        document.getElementById('encode-btn').addEventListener('click', () => {
            const text = document.getElementById('encode-input').value;
            if (!text) {
                alert('请输入要编码的文本');
                return;
            }

            try {
                const encoded = encodeURIComponent(text)
                    .replace(/'/g, "%27")
                    .replace(/"/g, "%22")
                    .replace(/\(/g, "%28")
                    .replace(/\)/g, "%29")
                    .replace(/\*/g, "%2A")
                    .replace(/!/g, "%21");

                document.getElementById('encode-output').value = encoded;
            } catch (e) {
                document.getElementById('encode-output').value = '编码失败: ' + e.message;
            }
        });

        // URL解码
        document.getElementById('decode-btn').addEventListener('click', () => {
            const encoded = document.getElementById('decode-input').value;
            if (!encoded) {
                alert('请输入要解码的URL编码');
                return;
            }

            try {
                // 处理+号（表单编码风格）
                const encodedText = encoded.replace(/\+/g, '%20');

                // 解码
                const decoded = decodeURIComponent(encodedText);
                document.getElementById('decode-output').value = decoded;
            } catch (e) {
                document.getElementById('decode-output').value = '解码失败: 无效的URL编码';
            }
        });

        // 复制功能
        document.getElementById('copy-encode-btn').addEventListener('click', () => {
            const output = document.getElementById('encode-output');
            if (!output.value) {
                alert('没有内容可复制');
                return;
            }

            output.select();
            document.execCommand('copy');
            showCopyFeedback(document.getElementById('copy-encode-btn'));
        });

        document.getElementById('copy-decode-btn').addEventListener('click', () => {
            const output = document.getElementById('decode-output');
            if (!output.value) {
                alert('没有内容可复制');
                return;
            }

            output.select();
            document.execCommand('copy');
            showCopyFeedback(document.getElementById('copy-decode-btn'));
        });

        function showCopyFeedback(button) {
            const originalText = button.innerHTML;
            button.innerHTML = '<span class="text-xl mr-2">✅</span>已复制';
            button.disabled = true;

            setTimeout(() => {
                button.innerHTML = originalText;
                button.disabled = false;
            }, 2000);
        }

        // 示例功能
        document.querySelectorAll('.example-btn').forEach(button => {
            button.addEventListener('click', () => {
                const type = button.getAttribute('data-example');

                if (type === 'encode') {
                    document.getElementById('encode-input').value = 'https://example.com/测试页面?name=张三&age=30';
                    document.getElementById('encode-output').value = '';
                } else if (type === 'decode') {
                    document.getElementById('decode-input').value = 'https%3A%2F%2Fexample.com%2F%E6%B5%8B%E8%AF%95%E9%A1%B5%E9%9D%A2%3Fname%3D%E5%BC%A0%E4%B8%89%26age%3D30';
                    document.getElementById('decode-output').value = '';
                }
            });
        });

        // 添加键盘快捷键支持
        document.addEventListener('keydown', (e) => {
            // Ctrl+Enter 进行编码/解码
            if (e.ctrlKey && e.key === 'Enter') {
                if (!document.getElementById('encode').classList.contains('hidden')) {
                    document.getElementById('encode-btn').click();
                } else {
                    document.getElementById('decode-btn').click();
                }
            }
        });
    </script>
</body>

</html>