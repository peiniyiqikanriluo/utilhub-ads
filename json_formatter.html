<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>JSONæ ¼å¼åŒ–å·¥å…· - åœ¨çº¿ç¾åŒ–ã€å‹ç¼©å’ŒéªŒè¯JSONæ•°æ® | æç®€å·¥å…·ç®±</title>
    <meta name="description" content="å…è´¹åœ¨çº¿JSONæ ¼å¼åŒ–å·¥å…·ï¼Œå¯ç¾åŒ–ã€å‹ç¼©å’ŒéªŒè¯JSONæ•°æ®ã€‚æä¾›è¯­æ³•é«˜äº®ã€é”™è¯¯å®šä½å’Œå¤šç§å®ç”¨åŠŸèƒ½ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚">
    <meta name="keywords" content="JSONæ ¼å¼åŒ–, JSONéªŒè¯, JSONå‹ç¼©, åœ¨çº¿å·¥å…·, å¼€å‘å·¥å…·, JSONç¾åŒ–">
    <meta name="author" content="æç®€å·¥å…·ç®±">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="JSONæ ¼å¼åŒ–å·¥å…· - æç®€å·¥å…·ç®±">
    <meta property="og:description" content="å…è´¹åœ¨çº¿JSONæ ¼å¼åŒ–å·¥å…·ï¼Œå¯ç¾åŒ–ã€å‹ç¼©å’ŒéªŒè¯JSONæ•°æ®ã€‚">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="JSONæ ¼å¼åŒ–å·¥å…· - æç®€å·¥å…·ç®±">
    <meta property="twitter:description" content="å…è´¹åœ¨çº¿JSONæ ¼å¼åŒ–å·¥å…·ï¼Œå¯ç¾åŒ–ã€å‹ç¼©å’ŒéªŒè¯JSONæ•°æ®ã€‚">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6400988749068679"
     crossorigin="anonymous"></script>
    <!-- ç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "JSONæ ¼å¼åŒ–å·¥å…·",
      "description": "å…è´¹åœ¨çº¿JSONæ ¼å¼åŒ–å·¥å…·ï¼Œå¯ç¾åŒ–ã€å‹ç¼©å’ŒéªŒè¯JSONæ•°æ®",
      "operatingSystem": "All",
      "applicationCategory": "DeveloperApplication",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.loli.net/css?family=Noto+Sans+SC:400,500,700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
        }
        .json-editor {
            font-family: monospace;
            tab-size: 2;
            white-space: pre-wrap;
        }
        .error-marker {
            background-color: rgba(239, 68, 68, 0.2);
            border-bottom: 2px dashed #ef4444;
        }
        .copy-btn:hover {
            transform: scale(1.05);
        }
        .gradient-text {
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        .btn {
            transition: all 0.3s ease;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .tooltip {
            position: relative;
        }
        .tooltip:hover:after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 4px 8px;
            background: #1f2937;
            color: white;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
        }
        .dark .tooltip:hover:after {
            background: #f3f4f6;
            color: #1f2937;
        }
        
        /* JSONè¯­æ³•é«˜äº®æ ·å¼ */
        .json-key {
            color: #4f46e5;
        }
        .dark .json-key {
            color: #818cf8;
        }
        .json-string {
            color: #059669;
        }
        .dark .json-string {
            color: #34d399;
        }
        .json-number {
            color: #9333ea;
        }
        .dark .json-number {
            color: #a78bfa;
        }
        .json-boolean {
            color: #2563eb;
        }
        .dark .json-boolean {
            color: #60a5fa;
        }
        .json-null {
            color: #6b7280;
        }
        .dark .json-null {
            color: #9ca3af;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50 dark:bg-gray-900">
    <div id="particles-js" class="particles"></div>
    
    <div class="container mx-auto px-4 py-8">
        <header class="mb-8">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-3xl font-bold gradient-text">JSONæ ¼å¼åŒ–å·¥å…·</h1>
                    <p class="text-gray-600 dark:text-gray-300 mt-2">åœ¨çº¿ç¾åŒ–ã€å‹ç¼©å’ŒéªŒè¯JSONæ•°æ®</p>
                </div>
                <a href="./index.html" class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition">è¿”å›é¦–é¡µ</a>
            </div>
        </header>

        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div>
                    <h2 class="text-lg font-semibold mb-4">è¾“å…¥JSON</h2>
                    <textarea id="json-input" class="w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 h-96 json-editor" placeholder="è¾“å…¥æˆ–ç²˜è´´JSONæ•°æ®"></textarea>
                    
                    <div class="mt-6 flex gap-4">
                        <button id="format-btn" class="flex-1 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center justify-center btn">
                            <span class="text-xl mr-2">âœ¨</span>
                            æ ¼å¼åŒ–
                        </button>
                        <button id="minify-btn" class="flex-1 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center justify-center btn">
                            <span class="text-xl mr-2">ğŸ“</span>
                            å‹ç¼©
                        </button>
                        <button id="validate-btn" class="flex-1 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center justify-center btn">
                            <span class="text-xl mr-2">âœ…</span>
                            éªŒè¯
                        </button>
                    </div>
                </div>
                
                <div>
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold">æ ¼å¼åŒ–ç»“æœ</h2>
                        <button id="copy-btn" class="copy-btn px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition flex items-center btn tooltip" data-tooltip="å¤åˆ¶åˆ°å‰ªè´´æ¿">
                            <span class="text-xl mr-2">ğŸ“‹</span>
                            å¤åˆ¶
                        </button>
                    </div>
                    <pre id="json-output" class="w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 h-96 overflow-auto json-editor">æ ¼å¼åŒ–åçš„JSONå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</pre>
                    
                    <div id="error-container" class="hidden bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded-lg p-4 mt-4">
                        <div class="flex items-center">
                            <span class="text-xl mr-3">âŒ</span>
                            <span id="error-message">JSONæ ¼å¼é”™è¯¯</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6">
            <h2 class="text-lg font-semibold mb-4">JSONä½¿ç”¨æç¤º</h2>
            <ul class="space-y-2 text-sm text-gray-700 dark:text-gray-300">
                <li class="flex items-start">
                    <span class="mr-2">ğŸ”</span>
                    <span>JSON (JavaScript Object Notation) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼</span>
                </li>
                <li class="flex items-start">
                    <span class="mr-2">ğŸ“</span>
                    <span>JSONæ•°æ®ç”±é”®å€¼å¯¹ç»„æˆï¼Œé”®å¿…é¡»ç”¨åŒå¼•å·æ‹¬èµ·æ¥</span>
                </li>
                <li class="flex items-start">
                    <span class="mr-2">ğŸ”¢</span>
                    <span>æ”¯æŒçš„æ•°æ®ç±»å‹ï¼šå­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ã€æ•°ç»„ã€å¯¹è±¡ã€null</span>
                </li>
                <li class="flex items-start">
                    <span class="mr-2">ğŸ’¡</span>
                    <span>ä½¿ç”¨æ ¼å¼åŒ–åŠŸèƒ½å¯ä»¥ä½¿JSONæ›´æ˜“è¯»ï¼Œå‹ç¼©åŠŸèƒ½å¯ä»¥å‡å°‘JSONä½“ç§¯</span>
                </li>
            </ul>
        </div>
    </div>
            <footer class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 mt-12">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
                <!-- ç½‘ç«™ä»‹ç» -->
                <div>
                    <h3 class="text-lg font-semibold mb-4 gradient-text">æç®€å·¥å…·ç®±</h3>
                    <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
                        æä¾›ç®€å•é«˜æ•ˆçš„åœ¨çº¿å·¥å…·é›†åˆï¼Œæ»¡è¶³æ‚¨çš„æ—¥å¸¸éœ€æ±‚ã€‚
                    </p>
                </div>

                <!-- å·¥å…·å¯¼èˆª -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">å·¥å…·å¯¼èˆª</h3>
                    <ul class="space-y-2">
                        <li><a href="file_converter.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">æ–‡ä»¶è½¬æ¢å™¨</a></li>
                        <li><a href="password_generator.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">å¯†ç ç”Ÿæˆå™¨</a></li>
                        <li><a href="qr_generator.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">äºŒç»´ç ç”Ÿæˆå™¨</a></li>
                        <li><a href="json_formatter.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">JSONæ ¼å¼åŒ–</a></li>
                        <li><a href="index.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">æŸ¥çœ‹å…¨éƒ¨å·¥å…·</a></li>
                    </ul>
                </div>

                <!-- æ”¯æŒä¸å¸®åŠ© -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">æ”¯æŒä¸å¸®åŠ©</h3>
                    <ul class="space-y-2">
                        <li><a href="help_document.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">å¸®åŠ©æ–‡æ¡£</a></li>
                        <li><a href="faq.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">å¸¸è§é—®é¢˜</a></li>
                        <li><a href="feedback.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">æ„è§åé¦ˆ</a></li>
                    </ul>
                </div>

                <!-- å…³äºæˆ‘ä»¬ -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">å…³äºæˆ‘ä»¬</h3>
                    <ul class="space-y-2">
                        <li><a href="about.html" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm transition-colors">å…³äºæç®€å·¥å…·ç®±</a></li>
                    </ul>
                </div>
            </div>

            <!-- åº•éƒ¨ç‰ˆæƒå’Œå¤‡æ¡ˆä¿¡æ¯ -->
            <div class="pt-8 border-t border-gray-200 dark:border-gray-700">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="mb-4 md:mb-0 text-center md:text-left">
                        <p class="text-gray-500 dark:text-gray-400 text-sm">Â© 2025 æç®€å·¥å…·ç®±. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
                    </div>
                    <div class="flex flex-wrap justify-center gap-6 mb-4 md:mb-0">
                        <a href="privacy_policy.html" class="text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary text-sm transition-colors">éšç§æ”¿ç­–</a>
                        <a href="terms_of_service.html" class="text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary text-sm transition-colors">æœåŠ¡æ¡æ¬¾</a>
                    </div>
                </div>
            </div>
        </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // ç²’å­æ•ˆæœ
        particlesJS('particles-js', {
            particles: {
                number: { value: 60, density: { enable: true, value_area: 800 } },
                color: { value: "#6366f1" },
                shape: { type: "circle" },
                opacity: { value: 0.5, random: true },
                size: { value: 3, random: true },
                line_linked: { enable: true, distance: 150, color: "#8b5cf6", opacity: 0.4, width: 1 },
                move: { enable: true, speed: 2, direction: "none", random: true, straight: false, out_mode: "out" }
            },
            interactivity: {
                detect_on: "canvas",
                events: {
                    onhover: { enable: true, mode: "grab" },
                    onclick: { enable: true, mode: "push" }
                }
            }
        });

        // æš—é»‘æ¨¡å¼åˆ‡æ¢
        if (localStorage.getItem('theme') === 'dark' || 
            (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        }

        // JSONæ ¼å¼åŒ–åŠŸèƒ½ç±»
        class JSONFormatter {
            constructor() {
                this.initElements();
                this.bindEvents();
                this.initEditor();
            }

            initElements() {
                this.jsonInput = document.getElementById('json-input');
                this.jsonOutput = document.getElementById('json-output');
                this.formatBtn = document.getElementById('format-btn');
                this.minifyBtn = document.getElementById('minify-btn');
                this.validateBtn = document.getElementById('validate-btn');
                this.copyBtn = document.getElementById('copy-btn');
                this.errorContainer = document.getElementById('error-container');
                this.errorMessage = document.getElementById('error-message');
            }

            bindEvents() {
                this.formatBtn.addEventListener('click', () => this.formatJSON());
                this.minifyBtn.addEventListener('click', () => this.minifyJSON());
                this.validateBtn.addEventListener('click', () => this.validateJSON());
                this.copyBtn.addEventListener('click', () => this.copyJSON());
                
                // æ·»åŠ é”®ç›˜å¿«æ·é”®
                document.addEventListener('keydown', (e) => {
                    if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                        e.preventDefault();
                        this.formatJSON();
                    }
                });
                
                // è¾“å…¥å˜åŒ–æ—¶è‡ªåŠ¨éªŒè¯
                this.jsonInput.addEventListener('input', () => {
                    this.clearError();
                });
            }

            initEditor() {
                // ç¤ºä¾‹JSON
                const exampleJson = {
                    "name": "æç®€å·¥å…·ç®±",
                    "description": "å¤šåŠŸèƒ½åœ¨çº¿å·¥å…·é›†åˆ",
                    "version": 1.0,
                    "features": ["JSONæ ¼å¼åŒ–", "å¯†ç ç”Ÿæˆ", "æ–‡ä»¶è½¬æ¢"],
                    "active": true,
                    "metadata": {
                        "author": "å¼€å‘è€…",
                        "created": "2023-01-01"
                    }
                };
                this.jsonInput.value = JSON.stringify(exampleJson, null, 2);
                this.formatJSON();
            }

            formatJSON() {
                try {
                    const jsonObj = JSON.parse(this.jsonInput.value);
                    const formattedJson = JSON.stringify(jsonObj, null, 2);
                    this.jsonOutput.textContent = formattedJson;
                    this.clearError();
                    this.highlightJSON();
                } catch (e) {
                    this.showError(e.message);
                    this.highlightError(e);
                }
            }

            minifyJSON() {
                try {
                    const jsonObj = JSON.parse(this.jsonInput.value);
                    const minifiedJson = JSON.stringify(jsonObj);
                    this.jsonOutput.textContent = minifiedJson;
                    this.clearError();
                    this.highlightJSON();
                } catch (e) {
                    this.showError(e.message);
                    this.highlightError(e);
                }
            }

            validateJSON() {
                try {
                    JSON.parse(this.jsonInput.value);
                    this.jsonOutput.textContent = 'âœ… JSONæ ¼å¼æ­£ç¡®';
                    this.clearError();
                } catch (e) {
                    this.showError(e.message);
                    this.highlightError(e);
                }
            }

            showError(message) {
                this.errorMessage.textContent = message;
                this.errorContainer.classList.remove('hidden');
            }
            
            clearError() {
                this.errorContainer.classList.add('hidden');
            }

            highlightError(error) {
                if (error instanceof SyntaxError) {
                    const match = error.message.match(/position (\d+)/);
                    if (match) {
                        const pos = parseInt(match[1]);
                        this.jsonInput.focus();
                        
                        // å°è¯•æ»šåŠ¨åˆ°é”™è¯¯ä½ç½®
                        this.jsonInput.setSelectionRange(pos, pos + 1);
                        
                        // è®¡ç®—é”™è¯¯æ‰€åœ¨è¡Œ
                        const textBeforeError = this.jsonInput.value.substring(0, pos);
                        const lineNumber = textBeforeError.split('\n').length;
                        const lines = textBeforeError.split('\n');
                        const columnNumber = lines[lines.length - 1].length + 1;
                        
                        // åœ¨é”™è¯¯ä¿¡æ¯ä¸­æ·»åŠ è¡Œå·å’Œåˆ—å·
                        this.errorMessage.textContent += ` (è¡Œ: ${lineNumber}, åˆ—: ${columnNumber})`;
                        
                        // æ»šåŠ¨åˆ°é”™è¯¯è¡Œ
                        const lineHeight = this.jsonInput.scrollHeight / this.jsonInput.rows;
                        this.jsonInput.scrollTop = (lineNumber - 5) * lineHeight;
                    }
                }
            }

            highlightJSON() {
                const jsonText = this.jsonOutput.textContent;
                if (!jsonText || jsonText === 'æ ¼å¼åŒ–åçš„JSONå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ') return;

                // æ”¹è¿›çš„è¯­æ³•é«˜äº®
                let highlighted = jsonText
                    .replace(/&/g, '&amp;')
                    .replace(/</g, '&lt;')
                    .replace(/>/g, '&gt;');
                
                // é«˜äº®é”®
                highlighted = highlighted.replace(/"(\w+)"\s*:/g, '"<span class="json-key">$1</span>":');
                
                // é«˜äº®å­—ç¬¦ä¸²å€¼
                highlighted = highlighted.replace(/:\s*"([^"]*)"/g, ': "<span class="json-string">$1</span>"');
                
                // é«˜äº®æ•°å­—
                highlighted = highlighted.replace(/:(\s*)(-?\d+\.?\d*([eE][+-]?\d+)?)/g, ':$1<span class="json-number">$2</span>');
                
                // é«˜äº®å¸ƒå°”å€¼
                highlighted = highlighted.replace(/:(\s*)(true|false)/g, ':$1<span class="json-boolean">$2</span>');
                
                // é«˜äº®null
                highlighted = highlighted.replace(/:(\s*)(null)/g, ':$1<span class="json-null">$2</span>');

                this.jsonOutput.innerHTML = highlighted;
            }

            copyJSON() {
                const textToCopy = this.jsonOutput.textContent;
                if (!textToCopy || textToCopy === 'æ ¼å¼åŒ–åçš„JSONå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ') return;
                
                navigator.clipboard.writeText(textToCopy).then(() => {
                    const originalText = this.copyBtn.innerHTML;
                    this.copyBtn.innerHTML = '<span class="text-xl mr-2">âœ…</span>å·²å¤åˆ¶';
                    setTimeout(() => {
                        this.copyBtn.innerHTML = originalText;
                    }, 2000);
                }).catch(err => {
                    console.error('å¤åˆ¶å¤±è´¥:', err);
                    // å¤‡ç”¨å¤åˆ¶æ–¹æ³•
                    const textArea = document.createElement('textarea');
                    textArea.value = textToCopy;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    
                    const originalText = this.copyBtn.innerHTML;
                    this.copyBtn.innerHTML = '<span class="text-xl mr-2">âœ…</span>å·²å¤åˆ¶';
                    setTimeout(() => {
                        this.copyBtn.innerHTML = originalText;
                    }, 2000);
                });
            }
        }

        // Initialize JSON Formatter
        document.addEventListener('DOMContentLoaded', () => {
            const jsonFormatter = new JSONFormatter();
            window.jsonFormatter = jsonFormatter;
        });
    </script>
</body>
</html>